$(document).ready(function() {
		var $search_box = $("#sales_entry_search_item_id");
		var $form = $search_box.parents("form"); 
		var search_item_url = $("#search_item_url").val(); 
    $search_box.tokenInput( search_item_url , {
				propertyToSearch: "name",
				tokenLimit: 1, 
        onAdd: function (item) {
						$form.spin("large", "black"); 
						$("#selected_item_id").attr( 'value',  item['id'] );
						
						$.ajax({
						      url: $form.attr("action"),
						      type: "POST",
						      data: $form.serialize(),
						      dataType: 'script',
						      success: function(response){ 
							
						      }
						    }); 
        } ,
				onDelete: function(item){
					$("#add_product_form").remove();
				}
    });

// 
// FOR THE SERVICE
// 
		var $search_service_box = $("#sales_entry_search_service_id");
		var $service_form = $search_service_box.parents("form");
		
		var search_service_url = $("#search_service_url").val(); 
		    $search_service_box.tokenInput( search_service_url , {
				propertyToSearch: "name",
				tokenLimit: 1, 
		        onAdd: function (item) {
						$service_form.spin("large", "black"); 
						$("#selected_service_id").attr( 'value',  item['id'] );
						
						$.ajax({
						      url: $service_form.attr("action"),
						      type: "POST",
						      data: $service_form.serialize(),
						      dataType: 'script',
						      success: function(response){ 
							
						      }
						    }); 
		        } ,
				onDelete: function(item){
					$("#add_service_form").remove();
				}
		});



		
		
		
});